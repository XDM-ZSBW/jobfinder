# name: Deploy Backend to Vercel
# 
# DISABLED: This workflow is deprecated. Use deploy-vercel-ci-cd.yml instead.
# The unified workflow deploys both frontend and backend together.
#
# on:
#   push:
#     branches:
#       - main
#     paths:
#       - 'backend/**'
#   workflow_dispatch:
#
# jobs:
#   deploy:
#     runs-on: ubuntu-latest
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4
#
#       - name: Setup Node.js
#         uses: actions/setup-node@v4
#         with:
#           node-version: '20'
#           cache: 'npm'
#           cache-dependency-path: backend/package-lock.json
#
#       - name: Install dependencies
#         working-directory: ./backend
#         run: npm ci
#
#       - name: Generate Prisma Client
#         working-directory: ./backend
#         run: npm run generate
#
#       - name: Build backend
#         working-directory: ./backend
#         run: npm run build
#
#       - name: Install Vercel CLI
#         run: npm install -g vercel@latest
#
#       - name: Deploy to Vercel Preview
#         if: github.ref != 'refs/heads/main'
#         env:
#           VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
#           VERCEL_ORG_ID: ${{ secrets.VERCEL_ORG_ID }}
#           VERCEL_PROJECT_ID: ${{ secrets.VERCEL_PROJECT_ID }}
#         run: vercel --yes
#
#       - name: Deploy to Vercel Production
#         if: github.ref == 'refs/heads/main'
#         env:
#           VERCEL_TOKEN: ${{ secrets.VERCEL_TOKEN }}
#           VERCEL_ORG_ID: ${{ secrets.VERCEL_ORG_ID }}
#           VERCEL_PROJECT_ID: ${{ secrets.VERCEL_PROJECT_ID }}
#         run: vercel --prod --yes
